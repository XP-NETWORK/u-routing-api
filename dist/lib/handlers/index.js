import { QuoteHandlerInjector } from './quote/injector';
import { QuoteHandler } from './quote/quote';
import { default as bunyan } from 'bunyan';
const log = bunyan.createLogger({
    name: 'Root',
    serializers: bunyan.stdSerializers,
    level: bunyan.INFO,
});
let quoteHandler;
try {
    const quoteInjectorPromise = new QuoteHandlerInjector('quoteInjector').build();
    quoteHandler = new QuoteHandler('quote', quoteInjectorPromise);
}
catch (error) {
    log.fatal({ error }, 'Fatal error');
    throw error;
}
module.exports = {
    quoteHandler: quoteHandler.handler,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvaGFuZGxlcnMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFDdkQsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQTtBQUM1QyxPQUFPLEVBQUUsT0FBTyxJQUFJLE1BQU0sRUFBcUIsTUFBTSxRQUFRLENBQUE7QUFFN0QsTUFBTSxHQUFHLEdBQVcsTUFBTSxDQUFDLFlBQVksQ0FBQztJQUN0QyxJQUFJLEVBQUUsTUFBTTtJQUNaLFdBQVcsRUFBRSxNQUFNLENBQUMsY0FBYztJQUNsQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUk7Q0FDbkIsQ0FBQyxDQUFBO0FBRUYsSUFBSSxZQUEwQixDQUFBO0FBQzlCLElBQUk7SUFDRixNQUFNLG9CQUFvQixHQUFHLElBQUksb0JBQW9CLENBQUMsZUFBZSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDOUUsWUFBWSxHQUFHLElBQUksWUFBWSxDQUFDLE9BQU8sRUFBRSxvQkFBb0IsQ0FBQyxDQUFBO0NBQy9EO0FBQUMsT0FBTyxLQUFLLEVBQUU7SUFDZCxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsYUFBYSxDQUFDLENBQUE7SUFDbkMsTUFBTSxLQUFLLENBQUE7Q0FDWjtBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUc7SUFDZixZQUFZLEVBQUUsWUFBWSxDQUFDLE9BQU87Q0FDbkMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFF1b3RlSGFuZGxlckluamVjdG9yIH0gZnJvbSAnLi9xdW90ZS9pbmplY3RvcidcbmltcG9ydCB7IFF1b3RlSGFuZGxlciB9IGZyb20gJy4vcXVvdGUvcXVvdGUnXG5pbXBvcnQgeyBkZWZhdWx0IGFzIGJ1bnlhbiwgZGVmYXVsdCBhcyBMb2dnZXIgfSBmcm9tICdidW55YW4nXG5cbmNvbnN0IGxvZzogTG9nZ2VyID0gYnVueWFuLmNyZWF0ZUxvZ2dlcih7XG4gIG5hbWU6ICdSb290JyxcbiAgc2VyaWFsaXplcnM6IGJ1bnlhbi5zdGRTZXJpYWxpemVycyxcbiAgbGV2ZWw6IGJ1bnlhbi5JTkZPLFxufSlcblxubGV0IHF1b3RlSGFuZGxlcjogUXVvdGVIYW5kbGVyXG50cnkge1xuICBjb25zdCBxdW90ZUluamVjdG9yUHJvbWlzZSA9IG5ldyBRdW90ZUhhbmRsZXJJbmplY3RvcigncXVvdGVJbmplY3RvcicpLmJ1aWxkKClcbiAgcXVvdGVIYW5kbGVyID0gbmV3IFF1b3RlSGFuZGxlcigncXVvdGUnLCBxdW90ZUluamVjdG9yUHJvbWlzZSlcbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGxvZy5mYXRhbCh7IGVycm9yIH0sICdGYXRhbCBlcnJvcicpXG4gIHRocm93IGVycm9yXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBxdW90ZUhhbmRsZXI6IHF1b3RlSGFuZGxlci5oYW5kbGVyLFxufVxuIl19